<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="summary">

<head>
<title>IPSAdmin</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css" href="/webjars/jquery-ui/1.12.1/jquery-ui.min.css" th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">

<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
<script src="/webjars/popper.js/1.14.7/umd/popper.min.js" th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
<script src="/webjars/jquery/3.4.1/jquery.min.js" th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js" th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
<script src="/webjars/jquery-form/4.2.2/jquery.form.min.js" th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>
<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js" th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>
<script src="js/bootstrap411.js"></script>

<style>
.init-cap {
    text-transform: lowercase; /* Ensure everything starts lowercase */
}

.init-cap::first-letter {
    text-transform: uppercase; /* Capitalize the first letter */
}
.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-moz-placeholder {
	color: #333;
}

.filterable .filters input[disabled]:-ms-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

td {
	background-color: #f8f7ff;
}

.underline {
	text-decoration: underline;
	color: #08a6f1;
	cursor: pointer;
}

.imageround {
	vertical-align: middle;
	width: 50px;
	height: 50px;
	border-radius: 50%;
	border-color: red;
}

.container-manager {
	padding-right: 43px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: 18.3%;
	margin-top: 80px;
}

.dataTables_empty {
	color: #be3232;
}

.dataTables_wrapper .dataTables_filter {
	float: right;
	margin-right: 20px;
	margin-top: 10px;
}

.dataTables_filter input {
	color: black;
	background-color: white;
}

.menu-title-header {
	padding: 0.45rem 0.45rem;
	background: #377486;
	color: #fff;
	font-family: "Nunito", calibry;
}

.modal-title {
	text-align: center;
	font-size: 14px;
	color: #332d2d;
	font-family: calibry
}

.autocomplete {
	position: relative;
	display: inline-block;
}

.dataTables_scrollBody {
	overflow: unset !important;
}

#country-list {
	min-width: 60px;
}

.input-group-prepend {
	width: auto;
}

.input-group .form-control {
	border-top-left-radius: 0;
	border-bottom-left-radius: 0;
}

#phoneNumber_Error {
	font-size: 13px;
	color: red;
	padding-left: 10px;
}

.dataTables_wrapper .dataTables_filter input[type="search"]::placeholder
	{
	color: black;
	font-style: italic;
}

input, select {
	height: 35px !important;
}

label {
	font-size: 18px !important;
}

.actionBtn .dropdown-menu {
	min-width: 5rem !important;
}
</style>
</head>

<script th:inline="javascript">
	/*<![CDATA[*/

	var formmode = /*[[${formmode}]]*/null;

	$(function() {
		$(document).ready(function() {
			var formode = $("#formmode1").val();
			if (formode == "view") {
				$('input').attr('readonly', true);
			} else if (formode == "verify") {
				$('input').attr('readonly', true);
			}
		});

		$("#disableDate").datepicker({
			changeMonth : true,
			changeYear : true,
			dateFormat : "dd-mm-yy",
			onSelect : function(selected) {
				var dt = $(this).datepicker('getDate');
				dt.setDate(dt.getDate());
				$("#disableenddate").datepicker("option", "minDate", dt);
			}
		});

		$("#disableenddate").datepicker({
			changeMonth : true,
			changeYear : true,
			minDate : 0,
			dateFormat : "dd-mm-yy",
			onSelect : function(selected) {
				var dt = new Date(selected);
				dt.setDate(dt.getDate() - 1);
				//$("#period_start_date").datepicker("option", "maxDate", dt);
			}
		});

		$("#expiryDate,#passExDate").datepicker({
			minDate : 0,
			dateFormat : "dd-mm-yy",
			onSelect : function(selected) {
				var dt = new Date(selected);
				dt.setDate(dt.getDate() + 1);
			}
		});
	});

	// USER ADD
	function submitform(a) {
		$.validator.addMethod("regex2", function(value, element, regexp) {
			var re = new RegExp(regexp);
			return this.optional(element) || re.test(value);
		}, "Password required at least one Uppercase, Lowercase, Numeric, and special character");
		$.validator.addMethod("regex", function(value, element, regexp) {
			var re = new RegExp(regexp);
			return this.optional(element) || re.test(value);
		}, "Date required format dd-mm-yyyy");
		$.validator.addMethod("countryCodeRequired", function(value, element) {
			var mobileNumber = $("#mobNo").val();
			return !mobileNumber || value;
		}, "Required");
		$("#userProfile").validate({
			rules : {
				password : {
					required : true,
					minlength : 8,
					maxlength : 16,
					regex2 : "^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})"
				},
				disableDate : {
					required : true,
					regex : "^(1[0-2]|0[1-9])-(3[01]|[12][0-9]|0[1-9])-[0-9]{4}$"
				},
				disableTilDate : {
					required : true,
					regex : "^(1[0-2]|0[1-9])-(3[01]|[12][0-9]|0[1-9])-[0-9]{4}$"
				},
				passExDate : {
					required : true,
					regex : "^(1[0-2]|0[1-9])-(3[01]|[12][0-9]|0[1-9])-[0-9]{4}$"
				},
				expiryDate : {
					required : true,
					regex : "^(1[0-2]|0[1-9])-(3[01]|[12][0-9]|0[1-9])-[0-9]{4}$"
				},
				countrycode : {
					countryCodeRequired : true
				},
				mob_number : {
					digits : true,
					minlength : 8,
					maxlength : 10
				}
			},
			messages : {
			// You can add custom messages here
			}
		});
		if ($("#userProfile").valid()) {
			$("#loader1").modal("toggle");
			var formmode = /*[[${formmode}]]*/null;
			var url = "./createUser?formmode=" + formmode;
			$("#userProfile").attr('action', url);
			var options = {
				success : showResponse,
				error : showError
			};
			$("#userProfile").ajaxSubmit(options);
			function showResponse(responseText, statusText, xhr, $form) {
				$("#loader1").modal("hide");
				$('#myModalpopup2').modal("toggle");
				$('#myModalpopup2 .modal-body').text(responseText);
			}
			function showError(xhr, status, error) {
				$("#loader1").modal("hide");
				var errorMessage = xhr.responseText || "An error occurred. Please try again.";
				$('#myModalpopup1').modal("toggle");
				$('#myModalpopup1 .modal-body').text(errorMessage);
			}
		}
	};

	// RESET USER

	function resetUserData(a) {
		var user_id = a.getAttribute("data-userid");
		$('#confirmationModal').modal('show');
		$('#confirmResetBtn').off('click').on('click', function() {
			$('#confirmationModal').modal('hide');
			$.ajax({
				url : './resetUserProfileData',
				data : {
					user_id : user_id
				},
				type : 'GET',
				success : function(response) {
					if (response == "User Reset Successfully") {
						$('#myModalpopup1').modal("toggle");
						$('#myModalpopup1 .modal-body').text(response);
					} else {
						$('#myModalpopup1').modal("toggle");
						$('#myModalpopup1 .modal-body').text(response);
					}
				},
				error : function(error) {
					console.error(error);
				}
			});
		});
	}

	// VERIFY USER

	function verifyform(a) {
		var entryuser = a.getAttribute("data-entry_user");
		var entrytime = a.getAttribute("data-entry_time");
		var modifyuser = a.getAttribute("data-modify_user");
		var loginUser = a.getAttribute("data-login_User");
		var modifyflg = a.getAttribute("data-modify_flg");
		var work_class = a.getAttribute("data-work_class");
		var formmode = a.getAttribute("data-formmode");
		if (work_class != "C") {
			$('#myModalpopup1').modal("toggle");
			$('#myModalpopup1 .modal-body').text("Same user cannot Verify");
		} else {
			$('select option').prop('disabled', false);
			var url = './verifyUser?entryuser=' + entryuser + '&entrytime=' + entrytime;
			$.ajax({
				url : url,
				type : 'POST',
				data : $("#userProfile").serialize(),
				success : function(response) {
					$('#myModalpopup2').modal("toggle");
					$('#myModalpopup2 .modal-body').text(response);
				},
				error : function(xhr, status, error) {
					var errorMessage = xhr.responseText || "An error occurred. Please try again.";
					$('#myModalpopup1').modal("toggle");
					$('#myModalpopup1 .modal-body').text(errorMessage);
				}
			});
		}
	}

	// MODIFY USER

	function editsubmitform(a) {
		event.preventDefault();
		var mobNo = $("#mobNo").val();
		var phoneNumberError = document.getElementById("phoneNumber_Error");
		if (mobNo === "") {
			phoneNumberError.innerHTML = "This field is required.";
		} else if (!/^\d{8}$/.test(mobNo)) {
			phoneNumberError.innerHTML = "Enter a valid Phone number.";
		} else {
			phoneNumberError.innerHTML = "";
		}
		if ($("#userProfile").valid() && phoneNumberError.innerHTML === "") {
			$("#loader1").modal("toggle");
			var formmode = /*[[${formmode}]]*/null;
			var url = "./editUser?formmode=" + formmode;
			var options = {
				url : url,
				type : 'POST',
				success : showResponse,
				error : showError
			};
			$("#userProfile").ajaxSubmit(options);
			function showResponse(responseText, statusText, xhr, $form) {
				$("#loader1").modal("hide");
				$('#myModalpopup2').modal("toggle");
				$('#myModalpopup2 .modal-body').text(responseText);
			}
			function showError(xhr, status, error) {
				$("#loader1").modal("hide");
				var errorMessage = xhr.responseText || "An error occurred. Please try again.";
				$('#myModalpopup1').modal("toggle");
				$('#myModalpopup1 .modal-body').text(errorMessage);
			}
		}
	}

	// SET DATA

	function pressBankBranchData(a) {
		var bank_code = a.getAttribute("data-bank_code");
		var bank_name = a.getAttribute("data-bank_name");
		var br_code = a.getAttribute("data-parm_1");
		var br_name = a.getAttribute("data-parm_2");
		$("#bankCode").val(bank_code.toUpperCase());
		$("#bankName").val(bank_name.toUpperCase());
		$("#branchCode").val(br_code.toUpperCase());
		$("#branchName").val(br_name.toUpperCase());
		$("#MyModalBank").modal("hide");
	}

	// SELECT ROLE

	function roledesc() {
		var roleid = $("#roleId").find(':selected').val();
		$.ajax({
			type : 'get',
			url : './getRoleDetails/' + roleid,
			success : function(response) {
				$("#roleDesc").val(response);
			}
		});
	}

	function roledesc1() {
		var roleid = $("#roleId").find(':selected').val();
		$.ajax({
			type : 'get',
			url : './getRoleDetails/' + roleid,
			success : function(response) {
				$("#roleDesc1").val(response);
			}
		});
	}

	// LOAD IMAGE

	function clickPhoto(a) {
		var userid = a.getAttribute("data-userid");
		$.ajax({
			type : 'GET',
			url : "./getUserBlobImage/" + encodeURIComponent(userid),
			success : function(response) {
				$('#imageshow').modal('show');
				document.getElementById("doc_image").src = "data:image/png;base64," + response;
			},
			error : function() {
				$('#myModalpopup1').modal("toggle");
				$('#myModalpopup1 .modal-body').text("Failed to load the image. Please try again later.");
			}
		});
	}

	// DELETE USER

	function submitformcancel(a) {
		$("#datacancel").hide();
		if ($("#userProfile").valid()) {
			$("#loader1").modal("toggle");
			var formMode = /*[[${formmode}]]*/null;
			var url = "./cancelUser?formmode=" + formMode;
			$("#userProfile").attr('action', url);
			var options = {
				success : showResponse,
				error : errorResponse
			};
			$("#userProfile").ajaxSubmit(options);
			function showResponse(responseText, statusText, xhr, $form) {
				$("#loader1").modal("hide");
				if (responseText == "Last changes are removed") {
					$('#myModalpopup2').modal("toggle");
					$('#myModalpopup2 .modal-body').text("User deleted successfully.");
				} else {
					$('#myModalpopup2').modal("toggle");
					$('#myModalpopup2 .modal-body').text(responseText);
				}
			}
			function errorResponse(xhr, statusText, error) {
				$("#loader1").modal("hide");
				var errorMessage = xhr.responseText || "An error occurred. Please try again.";
				$('#myModalpopup1').modal("toggle");
				$('#myModalpopup1 .modal-body').text(errorMessage);
			}
		}
	}

	// CALL BACK FUNCTIONS

	function home() {
		location.href = './IPSDashboard';
	}

	function back() {
		location.href = './UserProfile';
	}

	function fnClick(a) {
		var userid = a.getAttribute("data-userid");
		location.href = 'UserProfile?formmode=edit&userid=' + userid;
	}

	function adduser(a) {
		location.href = 'UserProfile?formmode=add';
	}

	function list() {
		location.href = 'UserProfile?formmode=list';
	}

	function cancelform(a) {
		$("#datacancel").modal("toggle");
	}

	function updateUserName(value) {
		document.getElementById("empName").value = value;
	}
	function handleIn(input) {
		input.value = input.value.replace(/[^a-zA-Z0-9\s]/g, '').toUpperCase();
	}

	function handleInputUserId(input) {
		input.value = input.value.replace(/[^a-zA-Z0-9\s]/g, '').toUpperCase().trim();
	}

	function handleInUserName(input) {
		input.value = input.value.replace(/[^a-zA-Z\s]/g, '').toUpperCase();
	}

	$(document).ready(function() {
		$('#usertable').DataTable({
			"destroy" : true,
			"scrollCollapse" : true,
			"paging" : true,
			"autoWidth" : false,
			"ordering" : true,
			"oLanguage" : {
				"sSearch" : "",
				"sSearchPlaceholder" : "Search Here"
			},
			"searching" : true,
			"pageLength" : 6,
			"lengthChange" : false,
		});
	});

	function fnClickview(a) {
		var userid = a.getAttribute("data-userid")
		location.href = 'UserProfile?formmode=view&userid=' + userid
	}

	function fnClickCancel(a) {
		var userid = a.getAttribute("data-userid")
		location.href = 'UserProfile?formmode=cancel&userid=' + userid
	}

	function fnClickviewnew(a) {
		var userid = a.getAttribute("data-userid")
		location.href = 'UserProfile?formmode=viewnew&userid=' + userid
	}

	function fnClickVerify(a) {
		var userid = a.getAttribute("data-userid")
		location.href = 'UserProfile?formmode=verify&userid=' + userid
	}

	/*]]>*/
</script>
<script type="text/javascript">
$(document)
.ready(
	function () {
		$('.filterable .btn-filter')
			.click(
				function () {
					var $panel = $(this).parents(
						'.filterable'), $filters = $panel
							.find('.filters input'), $tbody = $panel
								.find('.table tbody');
					if ($filters.prop('disabled') == true) {
						$filters
							.prop('disabled', false);
						$filters.first().focus();
					} else {
						$filters.val('').prop(
							'disabled', true);
						$tbody.find('.no-result')
							.remove();
						$tbody.find('tr').show();
					}
				});

		$('.filterable .filters input')
			.keyup(
				function (e) {
					/* Ignore tab key */
					var code = e.keyCode || e.which;
					if (code == '9')
						return;
					/* Useful DOM data and selectors */
					var $input = $(this), inputContent = $input
						.val().toLowerCase(), $panel = $input
							.parents('.filterable'), column = $panel
								.find('.filters th')
								.index($input.parents('th')), $table = $panel
									.find('.table'), $rows = $table
										.find('tbody tr');
					/* Dirtiest filter function ever ;) */
					var $filteredRows = $rows
						.filter(function () {
							var value = $(this)
								.find('td').eq(
									column)
								.text()
								.toLowerCase();
							return value
								.indexOf(inputContent) === -1;
						});
					/* Clean previous no-result if exist */
					$table.find('tbody .no-result')
						.remove();
					/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
					$rows.show();
					$filteredRows.hide();
					/* Prepend no-result row if all rows are filtered */
					if ($filteredRows.length === $rows.length) {
						$table
							.find('tbody')
							.prepend(
								$('<tr class="no-result text-center"><td colspan="'
									+ $table
										.find('.filters th').length
									+ '">No Record found</td></tr>'));
					}
				});
	});
</script>
</head>

<body>
	<div th:insert="MMenupage :: header"></div>
	<div class="container-manager">

		<!-- User List Start -->

		<div th:if="${formmode}=='list'">
			<div class="row">
				<div class="col-sm-12 mt-2">
					<div class="card panel panel-primary filterable">
						<div class="card-header p-1 ">
							<div  class="dispayflexpropty">
								<h6 class="headerh6">User Profile</h6>
								<div class="">
								<button type="button" class="btn btn-sm mr-2 headerbutton" id="btnAdd" onclick="adduser();" th:if="${IPSRoleMenu.work_class}=='C' OR ${IPSRoleMenu.permissions}=='W'">Create User</button>
								<button type="button" class="btn btns btn-filter headerbutton">Filter</button>
								</div>
							</div>
							</div> 
						<div class="card-body p-0">
							<table class="table table-striped table-bordered table-hover table-sm" id="">
								<thead> 
									<tr class="filters">
												<th style="text-align: center"> <input type="text"
														class="form-control font-weight-bold" placeholder="User Id"
														disabled></th> 
												<th style="text-align: center"> <input type="text"
														class="form-control font-weight-bold" placeholder="User Name"
														disabled></th> 
												<th style="text-align: center"><input type="text"
														class="form-control font-weight-bold" placeholder="Employee Id"
														disabled></th> 
												<th style="text-align: center"> <input type="text"
														class="form-control font-weight-bold" placeholder="Branch code"
														disabled></th> 
												<th style="text-align: center"> <input type="text"
														class="form-control font-weight-bold" placeholder="Branch Name"
														disabled></th> 
														<th style="text-align: center"> <input type="text"
														class="form-control font-weight-bold" placeholder="Status"
														disabled></th> 
											 	<th class="pb-2 select_th" >Select</th>
											</tr>
								</thead>
								<tbody>
									<tr style="font-size: smaller" th:each="userProfile : ${userProfiles}" class="userlist">
										<!-- <td th:if="${userProfile.xbrl_report}==null"><img th:src=@{/images/UserImage.png} class="imageround" style="color: blue; font-size: 20px;"></td>
										<td th:if="${userProfile.xbrl_report}!=null"><img th:src="*{'data:image/png;base64,'+userProfile.xbrl_report}" class="imageround"></img></td> -->
										<td th:text="${userProfile.userid !=null ? userProfile.userid.toUpperCase() : ''}">456</td>
										<td class="init-cap" th:text="${userProfile.username !=null ? userProfile.username.toUpperCase() : ''}">TEST</td>
										<td th:text="${userProfile.empid !=null ? userProfile.empid.toUpperCase() : ''}">123</td>
										<td th:text="${userProfile.branch_code !=null ? userProfile.branch_code.toUpperCase() : ''}">123</td>
										<td  class="init-cap" th:text="${userProfile.branch_name !=null ? userProfile.branch_name.toUpperCase() : ''}">CHENNAI</td>
										<th:block th:switch="${userProfile.entity_flg}">
											<td th:case="'Y'" style="color: green;">VERIFIED</td>
											<td th:case="'N'" style="color: red;">UNVERIFIED</td>
											<td th:case="*">UNKNOWN STATUS</td>
										</th:block>
										<td>
											<div class="dropdown actionBtn">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" title="Action"
													style="line-height: 0.7; width: 70px; font-size: 13px; color: #162b75; font-weight: 700; background: #e3e3e4;" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
												>Action</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuButton" title="Modify" style="background-color: #e3e3e4; color: #3a4550;">
													<a class="dropdown-item"
														style="cursor: pointer; height: 20px; width: 50px; background: #e3e3e4; border-radius: .20rem; padding: 2px 10px; top: 10px; padding-bottom: 22px; font-size: 15px; color: #162b75; font-weight: 700;"
														onclick="fnClick(this);" th:attr="data-userid=${userProfile.userid}" th:id="${userProfile.userid}"
														th:if="${userProfile.entity_flg}=='Y' AND ${loginuser} !=${userProfile.userid}  AND ${IPSRoleMenu.permissions}=='W'" th:disabled="${loginuser} ==${userProfile.userid}"
													>Modify</a> <a class="dropdown-item"
														style="cursor: pointer; height: 20px; width: 50px; background: #e3e3e4; border-radius: .20rem; padding: 2px 10px; top: 10px; padding-bottom: 22px; font-size: 15px; color: #162b75; font-weight: 700;"
														onclick="fnClickVerify(this);" title="Verify" th:attr="data-userid=${userProfile.userid}" th:id="${userProfile.userid}"
														th:if="${userProfile.entity_flg}=='N' AND ${IPSRoleMenu.work_class}=='C'"
													>Verify</a>
													<div class="dropdown-divider" th:if="${userProfile.entity_flg}=='Y' AND ${loginuser} !=${userProfile.userid} AND ${IPSRoleMenu.permissions}=='W'" style="height: 2px; line-height: 0.7;"></div>
													<div class="dropdown-divider" th:if="${userProfile.entity_flg}=='N' AND ${IPSRoleMenu.work_class}=='C'" style="height: 2px; line-height: 0.7;"></div>
													<a class="dropdown-item" title="View"
														style="cursor: pointer; height: 20px; width: 50px; background: #e3e3e4; border-radius: .20rem; padding: 2px 10px; top: 10px; padding-bottom: 22px; font-size: 15px; color: #162b75; font-weight: 700;"
														th:attr="data-userid=${userProfile.userid}" onclick="fnClickview(this);" th:id="${userProfile.userid}" th:if="${userProfile.entity_flg}=='Y' AND ${userProfile.modify_flg}=='N'"
													>View </a> <a class="dropdown-item" title="View"
														style="cursor: pointer; height: 20px; width: 50px; background: #e3e3e4; border-radius: .20rem; padding: 2px 10px; top: 10px; padding-bottom: 22px; font-size: 15px; color: #162b75; font-weight: 700;"
														th:attr="data-userid=${userProfile.userid}" onclick="fnClickviewnew(this);" th:id="${userProfile.userid}" th:if="${userProfile.entity_flg}=='N'"
													>View </a>
													<div class="dropdown-divider" th:if="${userProfile.entity_flg}=='N'" style="height: 2px; line-height: 0.7;"></div>
													<a class="dropdown-item" title="Cancel"
														style="cursor: pointer; height: 20px; width: 50px; background: #e3e3e4; border-radius: .20rem; padding: 2px 10px; top: 10px; padding-bottom: 22px; font-size: 15px; color: #162b75; font-weight: 700;"
														th:attr="data-userid=${userProfile.userid}" onclick="fnClickCancel(this);" th:id="${userProfile.userid}" th:if="${userProfile.entity_flg}=='N'"
													>Delete</a>
													<div class="dropdown-divider"></div>
													<a class="dropdown-item" title="Reset" th:attr="data-userid=${userProfile.userid}"
														style="cursor: pointer; height: 20px; width: 50px; background: #e3e3e4; border-radius: .20rem; padding: 2px 10px; top: 10px; padding-bottom: 22px; font-size: 15px; color: #162b75; font-weight: 700;"
														id="reset_value" onclick="resetUserData(this)"
													>Reset</a>
												</div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="card-footer text-center">
							<button type="button" class="btn btn-xs  mr-2 headerbutton "  onclick="home();">Home</button>
							<button type="button" class="btn btn-xs headerbutton" onclick="home();">Back</button>
						</div>
						</div>
						
					</div>
				</div>
			</div>
		</div>

		<!--User List End -->

		<!-- User Edit form Start -->

		<div class="pt-3" th:if="${formmode}=='view' OR ${formmode}=='add' OR ${formmode}=='cancel' OR ${formmode}=='edit' OR ${formmode}=='delete' OR ${formmode}=='verify'  OR ${formmode}=='viewnew'"style="margin-left:400px;width:1500px;margin-top:-15px">
			<div class="row">
				<div class="col-sm-12">
					<div class="card">
						<form class="m-0" action="#" th:object="${userProfile}" method="post" autocomplete="off" id="userProfile" th:fragment="finuserapply">
							<div class="card-header p-1">
								<div class="d-flex justify-content-between align-items-center">
									<div>
										<h3 th:if="${formmode}=='add'" class="headerh6 ">User Profile - Add</h3>
										<h3 th:if="${formmode}=='edit'" class="headerh6">User Profile - Modify</h3>
										<h3 th:if="${formmode}=='view'" class="headerh6">User Profile - View</h3>
										<h3 th:if="${formmode}=='viewnew'" class="headerh6">User Profile - View</h3>
										<h3 th:if="${formmode}=='verify'" class="headerh6">User Profile - Verify</h3>
										<h3 th:if="${formmode}=='delete'" class="headerh6">User Profile - Delete</h3>
										<h3 th:if="${formmode}=='cancel'" class="headerh6">User Profile - Cancel</h3>
									</div>
									<button type="button" class="btn btn-xs headerbutton" id="btnInq" onclick="list();">List</button>
								</div>
							</div>
							<div class="card-body mb-0 pb-0">
								<input autocomplete="off" name="hidden" type="text" style="display: none;">
								<div class="form-group">
									<div class="row formline">
										<div class="col-sm-2">
											<label for="userId">User Id <span th:if="${formmode}=='add'" style="color: red; font-size: 20px;">*</span></label>
										</div>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" onkeyup="this.value = this.value.toUpperCase();handleInputUserId(this)" id="userId" name="userid" maxlength="10"
												class="form-control form-control-sm autocomplete commonBackground" autocomplete="off" required
											/>
										</div>
										<div th:if="${formmode}=='edit' OR ${formmode}=='verify'  OR ${formmode}=='cancel' OR ${formmode}=='view'  OR ${formmode}=='viewnew' OR ${formmode}=='delete'" class="col-sm-3">
											<input type="text" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" id="userId" name="userid" th:value="${userProfile?.userid}" class="form-control form-control-sm"
												autocomplete="off" required th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='verify'  OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='edit'"
											/>
										</div>
										<div class="col-sm-1"></div>
										<div class="col-sm-2">
											<label for="userName">User Name <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										</div>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" id="userName" name="username" maxlength="50" onkeyup="this.value = this.value.toUpperCase(); updateUserName(this.value);handleInUserName(this)"
												class="form-control form-control-sm commonBackground" autocomplete="off" required
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" th:value="${userProfile?.username}" id="userName" name="username" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" class="form-control form-control-sm"
												autocomplete="off" required th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify' OR ${formmode}=='edit'"
											/>
										</div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">Bank Code <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="bank_code" th:value="${bank_code}" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" id="bankCode" class="form-control form-control-sm"
												autocomplete="off" required readonly
											>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="bank_code" th:value="${userProfile?.bank_code}" id="bankCode" class="form-control form-control-sm" autocomplete="off" required
												onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify'OR ${formmode}=='edit'"
											/>
										</div>
										<div class="col-sm-1 d-flex align-items-center">
											<a th:if="${formmode}=='add'" href="#"> <img style="width: 20px; height: 20px;" th:src="@{/images/Search.png}" class="searchico" data-toggle="modal" data-target="#MyModalBank"
												id="iconacc" alt="Search"
											>
											</a>
										</div>
										<label class="col-sm-2">Bank Name <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="bank_name" th:value="${bank_name}" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" id="bankName" class="form-control form-control-sm" maxlength="25"
												autocomplete="off" required readonly
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="bank_name" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" th:value="${userProfile?.bank_name}" id="bankName" class="form-control form-control-sm"
												autocomplete="off" required th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify'OR ${formmode}=='edit'"
											/>
										</div>
										<div class="col-sm-1"></div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">Branch Code <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="branch_code" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" th:value="${branch_code}" id="branchCode" value="" class="form-control form-control-sm"
												autocomplete="off" maxlength="4" required readonly
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="branch_code" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" th:value="${userProfile?.branch_code}" id="branchCode" value=""
												class="form-control form-control-sm" autocomplete="off" required
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view'  OR ${formmode}=='viewnew'  OR ${formmode}=='delete' OR ${formmode}=='cancel' OR ${formmode}=='verify'OR ${formmode}=='edit'"
											/>
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Branch Name <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="branch_name" id="branchName" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" value="" class="form-control form-control-sm" maxlength="25"
												autocomplete="off" required readonly
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete'OR ${formmode}=='cancel'">
											<input type="text" name="branch_name" th:value="${userProfile?.branch_name}" id="branchName" value="" class="form-control form-control-sm" autocomplete="off" required
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify'OR ${formmode}=='edit' OR ${formmode}=='delete' OR ${formmode}=='cancel'"
											/>
										</div>
										<div class="col-sm-1"></div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">Employee Id <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="empid" id="empId" value="" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" maxlength="10" class="form-control form-control-sm commonBackground"
												autocomplete="off" required
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="empid" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" th:value="${userProfile?.empid}" id="empId" value="" class="form-control form-control-sm"
												autocomplete="off" required
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew'  OR ${formmode}=='verify'OR ${formmode}=='edit' OR ${formmode}=='delete' OR ${formmode}=='cancel'"
											/>
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Employee Name <span style="color: red; font-size: 20px;" th:if="${formmode}=='add'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="emp_name" id="empName" value="" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" maxlength="50" class="form-control form-control-sm commonBackground"
												required
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew'  OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="emp_name" onkeyup="this.value = this.value.toUpperCase();handleIn(this)" th:value="${userProfile?.emp_name}" id="empName" value=""
												class="form-control form-control-sm" required autocomplete="off"
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify'OR ${formmode}=='edit' OR ${formmode}=='delete' OR ${formmode}=='cancel'"
											/>
										</div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">Mobile No <span style="color: red; font-size: 20px;" th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<div class="input-group" th:if="${formmode}=='add'">
												<div class="input-group-prepend" th:if="${formmode}=='add'">
													<select id="countrycode" name="countrycode" class="form-control  form-control-sm" th:if="${formmode}=='add'">
														<option value="">SELECT</option>
														<option th:each="city : ${CountryCode}" th:value="${city}" th:text="${city}"></option>
													</select>
												</div>
												<input type="text" id="mobNo" name="mob_number" th:if="${formmode}=='add'" class="form-control form-control-sm commonBackground" maxlength="8"
													oninput="this.value=this.value.replace(/[^0-9]/g,'');" required autocomplete="off"
												>
											</div>
											<span class="p-2" id="phoneNumber_Error"></span>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete'OR ${formmode}=='cancel'">
											<div class="input-group" th:if=" ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete'OR ${formmode}=='cancel'">
												<div class="input-group-prepend">
													<input id="countrycode" name="countrycode" class="form-control form-control-sm  " th:value="${userProfile.countrycode}" readonly>
												</div>
												<input type="number" id="mobNo" name="mob_number" class="form-control form-control-sm" maxlength="8" style="margin-left: -110px" th:value="${userProfile?.mob_number}" autocomplete="off"
													readonly
												>
											</div>
											<div class="input-group" th:if=" ${formmode}=='edit'">
												<div class="input-group-prepend" th:if=" ${formmode}=='edit'">
													<select id="countrycode" name="countrycode" class="form-control  form-control-sm" th:if="${formmode}=='edit'" th:field="*{countrycode}">
														<option value="">SELECT</option>
														<option th:each="city : ${CountryCode}" th:value="${city}" th:text="${city}"></option>
													</select>
												</div>
												<input type="number" id="mobNo" name="mob_number" th:if=" ${formmode}=='edit'" class="form-control form-control-sm commonBackground" maxlength="8" th:value="${userProfile?.mob_number}"
													autocomplete="off"
												>
											</div>
											<span id="phoneNumber_Error"></span>
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Email Id <span style="color: red; font-size: 20px;" th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input style="font-size: 17px;" type="email" name="email_id" id="emailId" value="" onkeyup="this.value = this.value.toLowerCase();" class="form-control form-control-sm commonBackground"
												autocomplete="off" required
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input th:if="${formmode}!='edit'" type="email" name="email_id" th:value="${userProfile?.email_id}" id="emailId" value="" class="form-control form-control-sm" autocomplete="off" required
												readonly
											/> <input th:if="${formmode}=='edit'" style="font-size: 17px;" type="email" name="email_id" th:value="${userProfile?.email_id}" id="emailId" value=""
												class="form-control form-control-sm commonBackground" autocomplete="off" required
											/>
										</div>
										<div class="col-sm-1"></div>
									</div>
									<div class="row formline">
										<label class="col-sm-2">Login Low <span style="color: red; font-size: 20px;" th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="time" name="login_low" id="loginLow1" value="" class="form-control form-control-sm" autocomplete="off" required />
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="time" name="login_low" th:value="${userProfile?.login_low}" id="loginLow" value="" class="form-control form-control-sm" autocomplete="off" required
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel' OR ${formmode}=='verify' "
											/>
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Login High <span style="color: red; font-size: 20px;" th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span></label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="time" name="login_high" id="loginHigh" value="" class="form-control form-control-sm" autocomplete="off" required />
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="time" name="login_high" th:value="${userProfile?.login_high}" id="loginHigh" value="" class="form-control form-control-sm" autocomplete="off"
												th:readonly="${userProfile?.entity_flg=='N'} OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel' OR ${formmode}=='verify' "
											/>
										</div>
										<div class="col-sm-1"></div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">User Disable Date</label>
										<!-- <span style="color: red; font-size: 20px;"
											th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span> -->
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="disable_start_date" id="disableDate" value="" class="form-control form-control-sm" autocomplete="off" readonly />
										</div>
										<div class="col-sm-3" th:if="${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='edit' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="disable_start_date" th:if="${formmode}=='edit'" th:value="${#dates.format(userProfile?.disable_start_date, 'dd-MM-yyyy')}" id="disableDate"
												class="form-control form-control-sm" autocomplete="off" readonly
											/> <input type="text" name="disable_start_date" th:if="${formmode}!='edit'" th:value="${#dates.format(userProfile?.disable_start_date, 'dd-MM-yyyy')}" class="form-control form-control-sm"
												autocomplete="off" readonly
											/>
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">User Disable Till Date</label>
										<div class="col-sm-3" th:if="${formmode}=='add'">
											<input type="text" name="disable_end_date" id="disableenddate" value="" class="form-control form-control-sm" autocomplete="off" readonly />
										</div>
										<div class="col-sm-3" th:if="${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='edit' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="disable_end_date" th:if="${formmode}=='edit'" th:value="${#dates.format(userProfile?.disable_end_date, 'dd-MM-yyyy')}" id="disableenddate"
												class="form-control form-control-sm" autocomplete="off" readonly
											/> <input type="text" name="disable_end_date" th:if="${formmode}!='edit'" autocomplete="off" th:value="${#dates.format(userProfile?.disable_end_date, 'dd-MM-yyyy')}"
												class="form-control form-control-sm" readonly
											/>
										</div>
										<div class="col-sm-1"></div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">User Status</label>
										<div class="col-sm-3" th:if="${formmode}=='add' OR ${formmode}=='edit'">
											<input type="text" name="user_status" id="userStatus" value="ACTIVE" th:if="${formmode}=='add'" class="form-control form-control-sm" autocomplete="off" readonly /> <select
												name="user_status" th:if="${formmode}=='edit'" style="width: 100%" id="userStatus" class="form-control form-control-sm"
											>
												<option th:selected="${userProfile?.user_status}=='ACTIVE'" value="ACTIVE">ACTIVE</option>
												<option th:selected="${userProfile?.user_status}=='INACTIVE'" value="INACTIVE">INACTIVE</option>
											</select>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="user_status" id="userStatus" th:value="${userProfile?.user_status}" class="form-control form-control-sm" autocomplete="off" readonly />
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Login Status</label>
										<div class="col-sm-3" th:if="${formmode}=='add' OR ${formmode}=='edit'">
											<input type="text" th:if="${formmode}=='add'" name="login_status" id="loginStatus" value="ACTIVE" class="form-control form-control-sm" autocomplete="off" readonly /> <select
												name="login_status" th:if="${formmode}=='edit'" style="width: 100%" id="loginStatus" class="form-control form-control-sm"
											>
												<option th:selected="${userProfile?.login_status}=='ACTIVE'" value="ACTIVE">ACTIVE</option>
												<option th:selected="${userProfile?.login_status}=='INACTIVE'" value="INACTIVE">INACTIVE</option>
											</select>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='verify' OR ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="login_status" id="loginStatus" th:value="${userProfile?.login_status}" class="form-control form-control-sm" autocomplete="off" readonly />
										</div>
										<div class="col-sm-1"></div>
									</div>
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">Account Expiry Date <span style="color: red; font-size: 20px;" th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span></label>
										<div class="col-sm-3" th:if="${formmode}=='add'">
											<input type="text" name="acc_exp_date" id="expiryDate" autocomplete="off" value="" class="form-control form-control-sm" required readonly />
										</div>
										<div class="col-sm-3" th:if="${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify'OR ${formmode}=='edit' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input type="text" name="acc_exp_date" autocomplete="off" th:value="${#dates.format(userProfile?.acc_exp_date, 'dd-MM-yyyy')}" id="expiryDate" th:if="${formmode}=='edit'"
												class="form-control form-control-sm" required readonly
											/> <input type="text" name="acc_exp_date" readonly th:if="${formmode}!='edit'" autocomplete="off" th:value="${#dates.format(userProfile?.acc_exp_date, 'dd-MM-yyyy')}"
												class="form-control form-control-sm"
											/>
										</div>
										<input type="hidden" name="new_user_flg" th:value="${userProfile?.new_user_flg}" id="new_user_flg">
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Remarks</label>
										<div class="col-sm-3" th:if="${formmode}=='add' ">
											<input type="text" id="remarks" value="" name="remarks" maxlength="50" autocomplete="off" onkeyup="this.value = this.value.toUpperCase();handleIn(this)"
												class="form-control form-control-sm commonBackground"
											/>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='view' OR ${formmode}=='edit' OR ${formmode}=='viewnew' OR ${formmode}=='verify'OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input th:if="${formmode}!='edit'" type="text" name="remarks" readonly autocomplete="off" th:value="${userProfile?.remarks}" id="remarks" maxlength="50" class="form-control form-control-sm" />
											<!--<input type="text" name="remarks" autocomplete="off" th:value="${userProfile?.remarks}" id="remarks" maxlength="50" class="form-control form-control-sm commonBackground" />-->
										</div>
										<div class="col-sm-1"></div>
									</div>
									<!-- <br>
									<div class="card-header">
										<h4 class="headerh6">Role and Rights</h4>
									</div>
									<br> -->
									<label></label>
									<div class="row formline">
										<label class="col-sm-2">Role Id <span style="color: red; font-size: 20px;" th:if="${formmode}=='add' OR ${formmode}=='edit'">*</span></label>
										<div class="col-sm-3" th:if="${formmode}=='view' OR ${formmode}=='viewnew'  OR ${formmode}=='verify'OR ${formmode}=='cancel' OR ${formmode}=='delete' OR ${formmode}=='cancel'">
											<input name="role_id" th:value="${userProfile?.role_id}" autocomplete="off" id="roleId" class="form-control form-control-sm" readonly>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='add'">
											<select name="role_id" th:value="${role_id}" id="roleId" style="width: 100%" class="form-control form-control-sm" onchange="roledesc();" required>
												<option value="">SELECT</option>
												<option id="role_id" th:each="monitoringparam : ${RuleIDType}" th:value="${monitoringparam}" th:text="${monitoringparam}"></option>
											</select>
										</div>
										<div class="col-sm-3" th:if="${formmode}=='edit'">
											<select th:field="*{role_id}" name="role_id" style="width: 100%" th:value="${userProfile?.role_id}" id="roleId" class="form-control form-control-sm" onchange="roledesc1();">
												<option value="">SELECT</option>
												<option id="role_id" th:each="monitoringparam : ${RuleIDType}" th:value="${monitoringparam}" th:text="${monitoringparam}"></option>
											</select>
										</div>
										<div class="col-sm-1"></div>
										<label class="col-sm-2">Role Description</label>
										<div th:if="${formmode}=='add'" class="col-sm-3">
											<input type="text" name="role_desc" th:value="${role_desc}" autocomplete="off" id="roleDesc" value="" class="form-control form-control-sm" readonly />
										</div>
										<div th:if=" ${formmode}=='view' OR ${formmode}=='viewnew' OR ${formmode}=='verify' OR ${formmode}=='delete' OR ${formmode}=='cancel'  OR ${formmode}=='edit'" class="col-sm-3">
											<input type="text" name="role_desc" autocomplete="off" th:value="${userProfile?.role_desc}" id="roleDesc1" value="" class="form-control form-control-sm" readonly />
										</div>
										<div class="col-sm-1"></div>
									</div>
									<div class="row formline mt-2">
										<div th:if="${formmode}=='add' OR ${formmode}=='edit'" class="col-sm-2">
											<label for="mand_account_number">Upload Image</label>
										</div>
										<div th:if="(${formmode}=='verify'  OR ${formmode}=='cancel' OR ${formmode}=='view'  OR ${formmode}=='viewnew' OR ${formmode}=='delete') AND ${userProfile.photo}!=null" class="col-sm-2">
											<label for="mand_account_number">Upload Image</label>
										</div>
										<div th:if="${formmode}=='add'" class="col-sm-2">
											<input type="file" id="file" style="font-size: 18px;" name="file" accept="image/png, image/jpeg">
										</div>
										<div th:if="${formmode}=='edit'" class="col-sm-3">
											<input type="file" id="file" name="file" accept="image/png, image/jpeg"> <span th:if="${userProfile.photo}!=null" class=underline onclick="clickPhoto(this);"
												th:attr="data-userid=${userProfile.userid}" title="click to view Image" id="openUploadModal"
											>show</span>
										</div>
										<div th:if=" (${formmode}=='verify'  OR ${formmode}=='cancel' OR ${formmode}=='view'  OR ${formmode}=='viewnew' OR ${formmode}=='delete') AND ${userProfile.photo}!=null" class="col-sm-3">
											<span class=underline onclick="clickPhoto(this);" th:attr="data-userid=${userProfile.userid}" title="click to view Image" id="openUploadModal">show view</span>
										</div>
										<div class="col-sm-1"></div>
									</div>
								</div>
							</div>
						</form>
						<div class="card-footer text-center p-1">
							<button type="button" class="btn btn-xs mr-2 headerbutton" id="" onclick="home();">Home</button>
							<button th:if=" ${formmode}=='verify' AND ${userProfile?.entity_flg}=='N'" type="button" class="btn btn-xs headerbutton mr-2"
								th:attr="data-userid=${userProfile.userid},data-entry_user=${userProfile.entry_user},
									data-modify_user=${userProfile.modify_user},data-modify_flg=${userProfile.modify_flg},
									data-login_user=${user_id},data-entry_time=${userProfile.entry_time},data-auth_user=${userProfile.auth_user},
									data-work_class=${IPSRoleMenu.work_class}"
								onclick="verifyform(this);" id="btnModify"
							>Verify</button>
							<button th:if=" ${formmode}=='cancel' AND ${userProfile?.entity_flg}=='N'" type="button" class="btn btn-xs headerbutton mr-2" onclick="cancelform(this);" id="btnModify">Delete</button>
							<button th:if=" ${formmode}=='add'" type="button" class="btn btn-xs headerbutton mr-2" form="userProfile" id="btnSubmit" onclick="submitform(this);"
								th:attr="data-formmode=${formmode},data-entity=${entity_flg}"
							>Submit</button>
							<button th:if="${formmode}=='edit' " type="button" class="btn btn-xs headerbutton mr-2" form="userProfile" id="btnSubmit" onclick="editsubmitform(this);"
								th:attr="data-formmode=${formmode},data-userid=${userProfile.userid},data-entry_user=${userProfile.entry_user},data-entry_time=${userProfile.entry_time},
									data-modify_user=${userProfile.modify_user},data-modify_flg=${userProfile.modify_flg},
									data-login_user=${user_id},data-auth_time=${userProfile.auth_time},data-auth_user=${userProfile.auth_user}"
							>Submit</button>
							<button type="button" class="btn btn-xs headerbutton" id="" onclick="back();">Back</button>
						</div>
						<div class="content m-2 border" th:if="${formmode}=='edit' OR ${formmode}=='verify' OR ${formmode}=='cancel' OR ${formmode}=='view' or ${formmode}=='viewnew'" style="padding: 15px;">
							<div class="row formline">
								<label class="col-sm-2">Entry User</label>
								<div class="col-sm-2">
									<input type="text" th:value="${userProfile?.entry_user}" id="entry_user" name="entry_user" class="form-control form-control-sm" autocomplete="off" readonly />
								</div>
								<label class="col-sm-2">Modify User</label>
								<div class="col-sm-2">
									<input type="text" th:value="${userProfile?.modify_user}" id="modify_user" name="modify_user" class="form-control form-control-sm" autocomplete="off" readonly />
								</div>
								<label class="col-sm-2">Verify User</label>
								<div class="col-sm-2">
									<input type="text" th:value="${userProfile?.auth_user}" id="auth_user" name="auth_user" class="form-control form-control-sm" autocomplete="off" readonly />
								</div>
							</div>
							<div class="row formline mt-2">
								<label class="col-sm-2">Entry Time</label>
								<div class="col-sm-2">
									<input type="text" th:value="${#dates.format(userProfile?.entry_time,'dd-MM-yyyy HH:mm')}" id="entry_date" name="entry_time" class="form-control form-control-sm" autocomplete="off" readonly />
								</div>
								<label class="col-sm-2">Modify Time</label>
								<div class="col-sm-2">
									<input type="text" th:value="${#dates.format(userProfile?.modify_time,'dd-MM-yyyy HH:mm')}" id="modify_time" name="modify_time" class="form-control form-control-sm" autocomplete="off"
										readonly
									/>
								</div>
								<label class="col-sm-2">Verify Time</label>
								<div class="col-sm-2">
									<input type="text" id="auth_time" name="auth_time" th:value="${#dates.format(userProfile?.auth_time,'dd-MM-yyyy HH:mm')}" class="form-control form-control-sm" autocomplete="off" readonly />
								</div>
								<label></label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>



	<!-- Model Box -->

	<div class="modal fade" id="MyModalBank" tabindex="-1" style="background: #000000b0;" aria-labelledby="MyModalBankLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content" style="width: 130%;">
				<div class="d-flex justify-content-between align-items-center" style="background-color: #f26223;">
					<h4 style="color: white; padding: 13px; font-weight: 700; font-size: 20px;">Bank Master</h4>
					<button type="button" style="color: #0a0100; margin-right: 12px; font-size: 25px; font-weight: 700;" class="close" data-dismiss="modal">X</button>
				</div>
				<div class="modal-body">
					<table class="table table-hover" id="finusertb">
						<thead>
							<tr >
								<th>Bank code</th>
								<th>Bank Name</th>
								<th>Branch Code</th>
								<th>Branch Name</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="bankbranchdata : ${bankbranch}" th:id="${bankbranchdata.sol_id}" class="userlist" th:onclick="pressBankBranchData(this)"
								th:attr="data-bank_code=${bankbranchdata.bank_code},data-bank_name=${bankbranchdata.bank_name},data-parm_1=${bankbranchdata.parm_1},data-parm_2=${bankbranchdata.parm_2}"
								style="cursor: pointer;"
							>
								<td th:text="${bankbranchdata.bank_code}">123</td>
								<td th:text="${bankbranchdata.bank_name}">123</td>
								<td th:text="${bankbranchdata.parm_1}">456</td>
								<td th:text="${bankbranchdata.parm_2}">456</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="myModalpopup2" data-backdrop="static" data-keyboard="false" style="background: #000000b0;" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<h3 class="text-center p-2 text-white font-weight-bold" style="background: #f26223;">BANK OF BARODA (BOTSWANA) LTD</h3>
				<h4 class="modal-body text-center font-weight-bold" style="color: black !important; font-size: 19px"></h4>
				<div class="text-center">
					<button type="button" class="btn mb-2" style="width: 16%; background: #f26223; font-size: 17px;" data-dismiss="modal" onclick="back()">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="myModalpopup1" data-backdrop="static" data-keyboard="false" style="background: #000000b0;" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<h3 class="text-center p-2 text-white font-weight-bold" style="background: #f26223;">BANK OF BARODA (BOTSWANA) LTD</h3>
				<h4 class="modal-body text-center font-weight-bold" style="color: black !important; font-size: 19px"></h4>
				<div class="text-center">
					<button type="button" class="btn mb-2" style="width: 16%; background: #f26223; font-size: 17px;" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="confirmationModal" tabindex="-1" style="background: #000000b0;" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div style="background-color: #f26223; font-weight: 700; font-size: 20px;">
					<h4 style="color: white; padding: 13px;">BANK OF BARODA BOTSWANA</h4>
				</div>
				<h5 style="font-size: 17px; color: black; padding: 15px;">Are you sure want to reset the user?</h5>
				<div style="padding: 10px; text-align: center;">
					<button type="button" class="btn btn-secondary" style="font-size: 16px" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-danger" style="font-size: 16px" id="confirmResetBtn">Yes,Reset</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="datacancel" style="background: #000000b0;" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
			<div class="modal-content">
				<div style="background-color: #f26223; font-weight: 700; font-size: 20px;">
					<h4 style="color: white; padding: 13px;">BANK OF BARODA BOTSWANA</h4>
				</div>
				<h5 style="font-size: 17px; color: black; padding: 15px;">Are you Sure want to delete the user?</h5>
				<div style="padding: 10px; text-align: center;">
					<button type="button" class="btn btn-secondary" style="font-size: 16px" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-danger" style="font-size: 16px" onclick="submitformcancel(this);">Yes,Delete</button>
				</div>
			</div>
		</div>
	</div>

</body>

</html>